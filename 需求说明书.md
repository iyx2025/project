# 家庭食谱与膳食计划应用需求说明书

## 1. 项目概述

### 1.1 项目背景
随着健康饮食理念的普及和生活节奏的加快，越来越多的家庭开始关注日常饮食的营养均衡和科学规划。本项目旨在开发一款家庭食谱与膳食计划应用，帮助用户方便地管理食谱、规划膳食、控制营养摄入，并根据个人口味和健康需求提供个性化的饮食建议。

### 1.2 项目目标
- 提供全面的食谱管理功能，包括添加、编辑、删除和搜索食谱
- 实现灵活的膳食计划功能，支持按日、周、月查看和规划
- 提供营养分析功能，计算食谱和膳食计划的营养成分
- 支持个性化推荐，基于用户偏好和健康需求推荐合适的食谱
- 实现食材清单生成功能，根据膳食计划自动生成采购清单


### 1.3 术语定义
- **食谱**：包含食材、步骤、营养信息等的烹饪指南
- **膳食计划**：用户规划的每日、每周或每月的饮食安排
- **食材**：烹饪所需的原料
- **营养成分**：蛋白质、脂肪、碳水化合物、维生素、矿物质等
- **膳食类型**：早餐、午餐、晚餐、加餐等

## 2. 功能需求

### 2.1 用户管理模块
- **用户注册**：支持手机号、邮箱注册，或第三方账号（如微信、QQ）登录
- **用户登录**：支持账号密码登录、验证码登录、第三方登录
- **个人信息管理**：修改头像、昵称、性别、年龄、身高、体重等
- **健康信息设置**：设置过敏原、饮食偏好（素食、低糖等）、健康目标（减重、增肌等）
- **密码找回**：通过邮箱或手机验证码找回密码

### 2.2 食谱管理模块
- **食谱浏览**：按分类、热门、最新等方式浏览食谱
- **食谱搜索**：按名称、食材、标签等关键词搜索食谱
- **食谱详情**：查看食谱的详细信息，包括食材、步骤、图片、营养成分

### 2.3 膳食计划模块
- **膳食计划创建**：创建每日、每周或每月的膳食计划
- **膳食计划编辑**：添加、修改或删除计划中的餐次
- **膳食计划预览**：按日、周、月查看膳食计划
- **食谱添加到计划**：将现有食谱快速添加到膳食计划
- **营养均衡提示**：根据膳食计划提供营养均衡建议
- **历史计划查看**：查看过去的膳食计划记录
- **计划模板**：保存常用的膳食计划作为模板，方便重复使用

### 2.4 食材管理模块
- **食材库浏览**：浏览应用内置的食材库
- **食材搜索**：按名称、类别搜索食材
- **食材详情**：查看食材的营养信息、购买建议等
- **食材清单生成**：根据膳食计划自动生成采购清单
- **食材清单编辑**：手动调整采购清单，添加或删除食材
- **食材清单分享**：将采购清单分享给家庭成员
- **食材库存管理**：记录家中现有食材的库存情况

### 2.5 营养分析模块
- **食谱营养分析**：计算并显示食谱的营养成分含量
- **膳食计划营养分析**：分析膳食计划的营养均衡性
- **营养目标设置**：根据用户健康信息设置每日营养摄入目标
- **营养摄入统计**：统计用户的实际营养摄入情况
- **营养建议**：根据营养分析结果提供个性化的饮食建议


## 3. 非功能需求

### 3.1 性能需求
- **响应时间**：页面加载时间不超过2秒，操作响应时间不超过1秒
- **数据处理**：能够快速处理和分析食谱及营养数据

### 3.2 可用性需求
- **界面友好性**：界面简洁明了，操作直观，易于上手
- **错误处理**：对用户输入错误和系统异常进行友好提示
- **帮助文档**：提供详细的用户指南和帮助信息

### 3.3 安全性需求
- **数据加密**：敏感数据加密存储和传输
- **用户认证**：严格的用户认证和授权机制
- **防SQL注入**：防止SQL注入等常见安全漏洞
- **日志记录**：记录系统操作日志，便于安全审计

### 3.4 兼容性需求

- **操作系统兼容**：兼容Windows 10/11、macOS等主流桌面操作系统
- **屏幕分辨率**：支持1024x768及以上分辨率，最佳体验为1920x1080

### 3.5 可扩展性需求
- **模块化设计**：采用模块化设计，便于功能扩展
- **API接口**：提供标准化的API接口，支持第三方接入
- **数据存储**：支持数据的水平扩展

## 4. 用户场景

### 4.1 场景一：浏览和搜索食谱
**用户角色**：普通用户
**场景描述**：用户想尝试新的菜品，打开应用浏览热门食谱，并通过搜索功能查找特定类型的食谱。
**操作流程**：
1. 用户打开应用首页
2. 浏览首页推荐的热门食谱
3. 点击食谱分类，查看分类下的食谱列表
4. 在搜索框中输入关键词（如"红烧肉"）进行搜索
5. 点击搜索结果中的食谱，查看详细信息

### 4.2 场景二：创建膳食计划
**用户角色**：注册用户
**场景描述**：用户想为下周制定膳食计划，确保家人的饮食多样化和营养均衡。
**操作流程**：
1. 用户登录应用
2. 进入膳食计划模块
3. 选择创建新的周计划
4. 为每一天的早、中、晚餐添加食谱
5. 查看整体营养分析结果
6. 根据营养建议调整部分食谱
7. 保存膳食计划

### 4.3 场景三：生成食材清单
**用户角色**：家庭主妇/主夫
**场景描述**：用户已经制定了下周的膳食计划，现在需要生成采购清单，方便去超市采购。
**操作流程**：
1. 用户登录应用
2. 进入已保存的下周膳食计划
3. 点击"生成采购清单"按钮
4. 系统自动生成包含所有所需食材的清单
5. 用户手动添加一些额外需要购买的食材
6. 调整部分食材的数量
7. 将清单保存或分享给家人


## 5. 技术要求

### 5.1 桌面UI技术
- **框架**：PyQt6
- **UI组件**：PyQt6内置组件和自定义组件
- **图表库**：PyQt6 Charts/Matplotlib（用于营养数据可视化）
- **多线程**：用于后台数据处理和API请求

### 5.2 后端接口技术
- **语言**：Python
- **框架**：Flask
- **API设计**：RESTful风格API
- **数据验证**：Flask-WTF/Marshmallow
- **认证**：JWT

### 5.3 数据存储技术
- **数据库**：SQLite
- **数据访问**：SQLAlchemy ORM
- **本地文件存储**：用户数据和图片的本地文件存储

### 5.4 集成技术
- **接口通信**：PyQt6内置HTTP客户端或Requests库
- **数据同步**：本地数据与后端接口的数据同步机制

## 6. 项目范围限定

### 6.1 包含功能
- 基本的食谱管理和膳食计划功能
- 营养分析和食材清单生成
- 本地数据存储和管理
- 桌面应用界面

### 6.2 不包含功能
- 高级的AI食谱推荐算法
- 食材配送服务
- 社交电商功能
- 专业的医疗级营养指导

## 7. 验收标准

### 7.1 功能完整性
- 所有功能需求中列出的功能均已实现
- 功能正常运行，无明显错误

### 7.2 性能指标
- 页面加载时间≤2秒
- 操作响应时间≤1秒
- 能够支持1000名用户同时在线

### 7.3 安全性
- 通过基本的安全测试
- 用户敏感信息加密存储
- 无明显安全漏洞

### 7.4 可用性
- 用户界面简洁友好
- 操作流程符合用户习惯
- 提供必要的帮助和提示信息